{%- capture prodcutNavSpecial -%}
    {%- if template contains 'product' -%}
       js-prodcutpage-specail
    {%- endif -%}
{%- endcapture -%}
{%- assign country_code_var = localization.country.iso_code | downcase -%}
{%- if country_code_var != 'au' -%}
<div class="fb-boom-klarna utils-boom-section {{ prodcutNavSpecial }}" id="section-{{ section.id }}">
    {%- assign productnew = section.settings.product -%}
    <div class="fb-klarna-back-fade"></div>
    <div
        
        data-keep-biketype="{%- render 'customer-price-control', cpc_product: productnew, type: 'bikeType' -%}"
        class="js-keep-biketype"
        >
            <div class="fb_xc_klarna_con fb_xc_home_con fb_xc_klarna_con utils-boom-card">
            {%- assign klarna_title_block_s_oprichtext = section.settings.klarna_title_block_s | strip_html -%}
            {%- if klarna_title_block_s_oprichtext != blank -%}
                <div class="fb_xc_home_title">
                <span class="fb_xc_home_payTxt">{{ section.settings.klarna_title_block_s }}</span>
                </div>
            {%- elsif section.settings.klarna_title_new_block_s != blank -%}
                <div class="fb_xc_home_title">
                <span class="fb_xc_home_payTxt">{{ section.settings.klarna_title_new_block_s }}</span>
                <img
                    class="fb_xc_home_payTag"
                    src="https://cdn.shopify.com/s/files/1/0592/3766/2905/files/klarna_440af7f3-c54b-413c-9345-0d95726ff5ac.png?v=1668743821"
                >
                </div>
            {%- else -%}
                <div class="fb_xc_klarna_con_logo">
                {% assign leftimgpiker = section.settings.klarna_left_logo
                    | img_url: '1x1'
                    | replace: '_1x1.', '_{width}x.'
                %}
                <img
                    class="Image--lazyLoad Image--fadeIn fb_xc_klarna_con_logo_r"
                    data-src="{{ leftimgpiker }}"
                    data-sizes="auto"
                    data-widths="[400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200]"
                >
                {%- if section.settings.klarna_middle_logo != blank -%}
                    {% assign middleimgpiker = section.settings.klarna_middle_logo
                    | img_url: '1x1'
                    | replace: '_1x1.', '_{width}x.'
                    %}
                    <img
                    class="Image--lazyLoad Image--fadeIn fb_xc_klarna_con_logo_c"
                    data-src="{{middleimgpiker}}"
                    data-sizes="auto"
                    data-widths="[400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200]"
                    >
                {%- endif -%}

                {%- if section.settings.klarna_right_logo != blank -%}
                    {% assign rightimgpiker = section.settings.klarna_right_logo
                    | img_url: '1x1'
                    | replace: '_1x1.', '_{width}x.'
                    %}
                    <img
                    class="Image--lazyLoad Image--fadeIn fb_xc_klarna_con_logo_l"
                    data-src="{{ rightimgpiker }}"
                    data-sizes="auto"
                    data-widths="[400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200]"
                    >
                {%- endif -%}
                </div>
            {%- endif -%}

            <div class="fb_xc_klarna_con_price">
                <div class="fb_xc_klarna_con_price_item" style="margin-left: 8px;">
                <div class="fb_xc_klarna_price_item">
                    {%- if section.settings.klarna_first_unit != blank -%}
                    <div class="fb_xc_klarna_unit fb_xc_home_color">
                        {{ section.settings.klarna_first_unit }}
                    </div>
                    {%- endif -%}
                    {%- if section.settings.klarna_first_number != blank -%}
                    <div class="fb_xc_number fb_xc_home_color">
                        {{ section.settings.klarna_first_number }}
                    </div>
                    {%- endif -%}
                </div>
                {%- if section.settings.klarna_first_desc != blank -%}
                    <div class="fb_xc_klarna_price_item_text fb_xc_home_color" style="margin-left: 8px;">
                    {{ section.settings.klarna_first_desc }}
                    </div>
                {%- endif -%}
                </div>
                <div class="fb_xc_klarna_price_item_img">
                <!-- <img src="https://cdn.shopifycdn.net/s/files/1/0592/3766/2905/files/line.png?v=1649832613" alt=""> -->
                {%- if section.settings.klarna_line != blank -%}
                    <img class="Image--lazyLoad" src="{{  section.settings.klarna_line | img_url: '' }}">
                {%- else -%}
                    <img
                    class="Image--lazyLoad"
                    src="https://cdn.shopify.com/s/files/1/0592/3766/2905/files/2x_2396f5c1-f101-4aa0-9441-899626ed4462.png?v=1668769028"
                    alt=""
                    >
                {%- endif -%}
                </div>
                <div class="fb_xc_klarna_con_price_item">
                {%- if section.settings.klarna_sencond_top_desc != blank -%}
                    <div class="fb_xc_klarna_as_low_as">
                    {{ section.settings.klarna_sencond_top_desc }}
                    </div>
                {%- endif -%}
                <div class="fb_xc_klarna_price_item">
                    {%- if section.settings.klarna_sencond_unit != blank -%}
                    <div class="fb_xc_klarna_unit fb_xc_home_color">
                        {{ section.settings.klarna_sencond_unit }}
                    </div>
                    {%- endif -%}
                    {%- if section.settings.klarna_sencond_number != blank -%}
                    <div class="fb_xc_number fb_xc_home_color">
                        {%- assign product = section.settings.product -%}
                        {% if product != blank %}
                        {%- render 'customer-price-control', type:'mo', cpc_product: product -%}
                        {%- else -%}
                        {{ section.settings.klarna_sencond_number }}
                        {% endif %}
                    </div>
                    {%- endif -%}
                </div>
                {%- if section.settings.klarna_sencond_desc != blank -%}
                    <div class="fb_xc_klarna_price_item_text fb_xc_home_color">
                    {{ section.settings.klarna_sencond_desc -}}
                    <sup>1</sup>
                    </div>
                {%- endif -%}
                </div>
                <div class="fb_xc_klarna_price_item_img">
                <!-- <img src="https://cdn.shopifycdn.net/s/files/1/0592/3766/2905/files/line.png?v=1649832613" alt=""> -->
                {%- if section.settings.klarna_line != blank -%}
                    <img class="Image--lazyLoad" src="{{  section.settings.klarna_line | img_url: '' }}">
                {%- else -%}
                    <img
                    class="Image--lazyLoad"
                    src="https://cdn.shopify.com/s/files/1/0592/3766/2905/files/2x_2396f5c1-f101-4aa0-9441-899626ed4462.png?v=1668769028"
                    alt=""
                    >
                {%- endif -%}
                </div>
                <div class="fb_xc_klarna_con_price_item fb_xc_klarna_con_price_item_m" style="margin-right: 8px;">
                <div class="fb_xc_klarna_price_item" style="margin-left: 8px;">
                    {%- if section.settings.klarna_third_number != blank -%}
                    <div class="fb_xc_number fb_xc_home_color">
                        {{ section.settings.klarna_third_number }}
                    </div>
                    {%- endif -%}
                    {%- if section.settings.klarna_third_unit != blank -%}
                    <div class="fb_xc_klarna_unit fb_xc_home_color">
                        {{ section.settings.klarna_third_unit }}
                    </div>
                    {%- endif -%}
                </div>
                {%- if section.settings.klarna_third_desc != blank -%}
                    <div class="fb_xc_klarna_price_item_text fb_xc_home_color" style="margin-right: 3px;">
                    {{ section.settings.klarna_third_desc }}
                    </div>
                {%- endif -%}
                </div>
            </div>
            <button class="fb_xc_klarna_con_button prboom_button_one js-ebike-addtocart" 
              data-soldout="SOLD OUT"
              data-soldout-style="true"
              data-origintext="{{ section.settings.bike_button_text }}">
              <span>ADD TO CART</span>
            </button>
            </div>
        </div>
</div>
{%- endif -%}
<style>
  #section-{{ section.id }} {
    background-color: {{ section.settings.klarna_color }}
  }
  .fb_xc_home_title {
    color: {{ section.settings.klarna_text_color }};
  }
  .fb_xc_klarna_as_low_as{
    color:{{ section.settings.klarna_text_color }};
  }
  .fb_xc_klarna_con{
    background: linear-gradient({{ section.settings.klarna_Gradient_deg }}deg, {{ section.settings.klarna_Gradient_colorA }} 52%, {{ section.settings.klarna_Gradient_colorB }} 100%);
  }
   {% comment %} @media only screen and (max-width: 768px){
      #section-{{ section.id }} .fb-home-klarna{
        background-color: {{ section.settings.klarna_mobile_color }}
      }
   } {% endcomment %}
  #section-{{ section.id }} .fb_xc_home_color{
    color: {{ section.settings.klarna_text_color }}
  }
  {%- if template contains 'page.boom-bike' -%}
      @media screen and (max-width: 820px){
          #shopify-section-{{section.id}} {
              padding-top: 20px;
              background-color: #EFEFEF;
          }
      }
      @media screen and (min-width: 821px){
          #shopify-section-{{section.id}} {
             padding-top: 40px;
             background-color: #EFEFEF;
          }
      }
  {%- endif -%}
</style>
{% schema %}
{
  "name": "FbBoomKlarna",
  "presets": [
    {
      "name": "fb-boom-klarna",
      "category": "Fb Sections",
      "blocks": []
    }
  ],
  "settings": [
    {
      "type": "product",
      "id": "product",
      "label": "Product"
    },
    {
      "type": "url",
      "id": "klarna_link_url",
      "label": "Link"
    },
    {
      "type": "color",
      "id": "klarna_color",
      "label": "Background Color",
      "default": "#fff"
    },
    //{
    //  "type": "color",
    //  "id": "klarna_mobile_color",
    //  "label": "Background Color",
    //  "default": "#f6f6f6"
    //},
    {
      "type": "number",
      "id": "klarna_Gradient_deg",
      "label": "Gradient Deg",
      "default": 180
    },
    {
      "type": "color",
      "id": "klarna_Gradient_colorA",
      "label": "Gradient Second",
      "default": "#75C2EF"
    },
    {
      "type": "color",
      "id": "klarna_Gradient_colorB",
      "label": "Gradient Third",
      "default": "#5399CD"
    },
    {
      "type": "color",
      "id": "klarna_text_color",
      "label": "Text Color",
      "default": "#fff"
    },
    {
      "type": "text",
      "id": "klarna_title_new_block_s",
      "label": "Main new title"
    },
    {
      "type": "richtext",
      "id": "klarna_title_block_s",
      "label": "Main title"
    },
    {
      "type": "image_picker",
      "id": "klarna_left_logo",
      "label": "Left Logo"
    },
    {
      "type": "image_picker",
      "id": "klarna_middle_logo",
      "label": "Middle Logo"
    },
    {
      "type": "image_picker",
      "id": "klarna_right_logo",
      "label": "Left Logo"
    },
    {
      "type": "image_picker",
      "id": "klarna_line",
      "label": "Line"
    },
    {
      "type": "text",
      "id": "klarna_first_unit",
      "label": "first unit",
      "default": "$"
    },
    {
      "type": "text",
      "id": "klarna_first_number",
      "label": "first number",
      "default": "0"
    },
    {
      "type": "text",
      "id": "klarna_first_desc",
      "label": "first description",
      "default": "DOWN PAYMENT"
    },
    {
      "type": "text",
      "id": "klarna_sencond_unit",
      "label": "sencond unit",
      "default": "$"
    },
    {
      "type": "text",
      "id": "klarna_sencond_number",
      "label": "sencond number",
      "default": "0"
    },
    {
      "type": "text",
      "id": "klarna_sencond_top_desc",
      "label": "sencond top desc"
    },
    {
      "type": "text",
      "id": "klarna_sencond_desc",
      "label": "sencond description",
      "default": "/MONTH"
    },
    {
      "type": "text",
      "id": "klarna_third_unit",
      "label": "third unit",
      "default": "%"
    },
    {
      "type": "text",
      "id": "klarna_third_number",
      "label": "third number",
      "default": "0"
    },
    {
      "type": "text",
      "id": "klarna_third_desc",
      "label": "third description",
      "default": "APR FINANCING"
    }
  ]
}
{% endschema %}
