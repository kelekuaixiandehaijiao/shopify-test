{% comment %} Extend - Add necessary SDK script tags and configure the store {% endcomment %}
<script src="https://sdk.helloextend.com/extend-sdk-client/v1/extend-sdk-client.min.js" defer="defer"></script>
<script
  src="https://sdk.helloextend.com/extend-sdk-client-shopify-addon/v1/extend-sdk-client-shopify-addon.min.js"
  defer="defer"
></script>

<script>
  window.addEventListener('DOMContentLoaded', function () {
    window.Extend.config({ storeId: '7cacb493-04d4-4736-8e72-927530ac89fe', environment: 'production' });
    window.Extend.integration = {};

    // Extend - Analytics and writeLogs boolean
    window.Extend.integration.analytics = true;
    window.Extend.integration.writeLogs = false;

    // Extend - QA Cypress booleans
    window.Extend.integration.isExtendPdpOfferEnabled = true;
    window.Extend.integration.isExtendOfferModalEnabled = true;
    window.Extend.integration.isExtendMainCartOfferEnabled = true;

    // Only defines utils if Extend and ExtendShopify is defined
    if (window.Extend && window.ExtendShopify) {
      const extendUtils = {
        /*
         * takes in object and logs it if writeLogs is true
         * @param {object} objToLog will be an object of information to log
         */
        logger: (objToLog) => {
          try {
            if (Extend.integration.writeLogs) {
              console.log('EXTEND: ', objToLog);
            }
          } catch (error) {
            console.warn('EXTEND: ' + error);
          }
        },
      };
      window.Extend.integration.utils = extendUtils;
    }
  });
</script>

{% comment %} Extend - Render aftermarket integration snippet {% endcomment %}
{% render 'extend-aftermarket-integration' %}
{% comment %} Extend - Render analytics {% endcomment %}
{% render 'extend-analytics' %}
{% comment %} Extend -- Load product integration script {% endcomment %}
{% comment %} {% render 'extend-product-integration' %} {% endcomment %}
{% if template contains 'product.lit-bike-'
  or template contains 'product.boom-bike-'
  or template contains 'ebike'
  or template contains 'cart'
%}
  {% render 'extend-product-integration' %}
{%- endif -%}
{% comment %} Extend -- Load cart integration script {% endcomment %}
{% render 'extend-cart-integration' %}
{% comment %} Extend -- End Extend code {% endcomment %}
